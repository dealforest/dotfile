set main-view = id date:relative-compact author:maxwidth=30 commit-title:graph=yes,refs=yes


// set mouse = true
set vertical-split = yes
set split-view-width = 75%
set ignore-case = true
set ignore-space = at-eol
set diff-options = -m --first-parent
set diff-context = 6

set blob-view-line-number = yes
set blame-view-line-number = yes

########
# generic key binds
########
bind main o !hub browse -- commit/%(commit)
bind generic g move-first-line
bind generic G move-last-line
bind generic <Ctrl-f> move-page-down
bind generic <Ctrl-b> move-page-up
bind generic % refresh

bind generic xf !git fetch --all --prune --verbo
bind generic xd @sh -c 'git log --format=%B -n1 %(commit) | pbcopy; open /Applications/DeepL.app; osascript -e \'tell application "System Events" to keystroke "v" using command down\''
bind generic xyy @sh -c "echo %(commit) | pbcopy"
bind generic xym @sh -c "git find-merge %(commit) HEAD | pbcopy"

########
# main key binds
########
bind main xo !hub browse -- commit/%(commit)
bind main xt !?git tag "%(prompt Enter new tag name: )" %(commit)
bind main xT !?git tag -d "%(tag)"
bind main xr !git rebase --autosquash -i %(commit)
bind main xcf !?git commit --fixup %(commit)
bind main xcs !?git commit --squash %(commit)
bind main xp !?git push origin %(branch)
bind main xP !?git push --force origin %(branch)
bind main xm !?git branch -m %(branch) "%(prompt Enter new branch name: )" 

# bind main xfetch !git fetch --all
# bind main xfixup !?git commit --fixup %(commit)
# bind main xpull !?git pull "%(prompt Enter remote name: )" --rebase
# bind main xpush !?git push "%(prompt Enter remote name: )" %(branch)
# bind main xPush !?git push --force "%(prompt Enter remote name: )" %(branch)
# bind main xrebase !git rebase --autosquash -i %(commit)
# bind main xreset !?git reset %(commit)
# bind main xReset !?git reset --hard %(commit)
# bind main xco !git checkout %(commit)
# bind main xtag !?git tag "%(prompt Enter new tag name: )" %(commit)
# bind main xTag !?git tag -d "%(tag)"
# bind main xcc !@git pbcopy %(commit)
# bind main ;c @gh browse -c %(commit)
# bind main ;b @gh browse -b %(branch)
# bind main ;t @gh browse -b %(tag)
# bind main ;r @gh browse


########
# diff key binds
########
bind diff xo !hub browse -- commit/%(commit)

########
# log key binds
#######
bind log xo !hub browse -- commit/%(commit)

########
# refs key binds
########
bind refs xc !?git checkout -b "%(prompt Enter new branch name: )" %(branch)

# bind refs xpull !?git pull "%(prompt Enter remote name: )" %(branch) --rebase
# bind refs xpush !?git push "%(prompt Enter remote name: )" %(branch)
# bind refs xPush !?git push --force "%(prompt Enter remote name: )" %(branch)
# bind refs xsu !?git push --set-upstream "%(prompt Enter remote name: )" %(branch)
# bind refs xreset !?git reset %(branch)
# bind refs xReset !?git reset --hard %(branch)
# bind refs xrebase !git rebase -i %(branch)
# bind refs xmerge !?git merge %(branch)
# bind refs xmove !?git branch -m %(branch) "%(prompt Enter new branch name:)"
# bind refs xtag !?git tag "%(prompt Enter new tag name: )" %(branch)
# bind refs xTag !?git tag -d "%(tag)"
